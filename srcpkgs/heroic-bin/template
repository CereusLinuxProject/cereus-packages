# Template file for 'heroic-bin'
pkgname=heroic-bin
version=2.3.5
revision=1
nostrip=yes
archs="x86_64"
create_wrksrc=yes
build_style=fetch
hostmakedepends="bsdtar"
depends="fuse gawk zstd"
repository="cereus-extra"
short_desc="Heroic Games Launcher, an Open Source Launcher for GOG and Epic Games"
maintainer="KF-Art <https://github.com/KF-Art>"
license="GPL-3.0"
homepage="https://github.com/Heroic-Games-Launcher/HeroicGamesLauncher"
changelog="${homepage}/releases/tag/v${version}"
distfiles="https://github.com/Heroic-Games-Launcher/HeroicGamesLauncher/releases/download/v${version}/heroic-${version}.tar.xz"
checksum=0d34686cb4ab9b88da338fc7423a42ffcf60421f26114fa59c34d6e76a25b2a9

do_install() {
	for dir in opt usr/{bin,share/applications}; do
		vmkdir ${dir}
	done

	bsdtar -xf heroic-${version}.tar.xz -C "${DESTDIR}/opt/"
	ln -s /opt/heroic-${version}/heroic "${DESTDIR}/usr/bin/heroic"
    vcopy "${FILESDIR}/heroic.desktop" usr/share/applications/
}
